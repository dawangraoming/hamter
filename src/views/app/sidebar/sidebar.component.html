<div class="sidebar-com">

  <!--列表功能-->
  <div class="categories-container">
    <dl class="categories-list-container system-categories-list">
      <dt class="categories-list-title">系统分类</dt>
      <dd class="categories-list-item iconfont icon-home categories-list-item-opened">
        <div class="category-info">
          <span class="category-name">全部</span>
        </div>
      </dd>
      <dd class="categories-list-item iconfont icon-folder">
        <div class="category-info">
          <span class="category-name">未分类</span>
        </div>
      </dd>
      <dd class="categories-list-item iconfont icon-delete">
        <div class="category-info">
          <span class="category-name">垃圾桶</span>
        </div>
      </dd>
    </dl>
    <div class="categories-list-container custom-categories-list">
      <h6 class="categories-list-title">个人分类</h6>
      <ul class="categories-list-scroll" (contextmenu)="showContextMenuMethod($event)">
        <ng-container *ngFor="let item of terms$ | async">
          <li class="categories-list-item iconfont icon-folder"
              *ngIf="item.term_id !== 1"
              [ngClass]="{
              'on-selected': item.term_id === contextMenuOnTermId
            }"
              (contextmenu)="showContextMenuMethod($event, item.term_id)">
            <div class="category-info">
            <span class="category-name"
                  *ngIf="renameTermId !== item.term_id; else inputComponent">{{item.term_name}}</span>
              <ng-template #inputComponent>
                <app-category-input
                  class="category-name-input"
                  (nameInputCompleted)="renameTermCompletedMethod($event)"
                  [sourceName]="item.term_name"
                  [termId]="item.term_id"></app-category-input>
              </ng-template>
              <span class="category-count">{{item.term_count}}</span>
            </div>
          </li>
        </ng-container>
      </ul>
    </div>
    <div class="context-menu" *ngIf="contextMenuShow"
         [ngStyle]="contextMenuStyle">
      <button (click)="addTermMethod()">新建分类</button>
      <ng-container *ngIf="contextMenuOnTermId">
        <button (click)="renameTermMethod($event)">重命名</button>
        <button (click)="removeTermMethod($event)">删除</button>
      </ng-container>
    </div>
  </div>
</div>
