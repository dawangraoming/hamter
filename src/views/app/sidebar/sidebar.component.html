<div class="sidebar-com">

  <!--列表功能-->
  <div class="categories-container">
    <dl class="categories-list">
      <dt class="categories-list-title">系统分类</dt>
      <dd class="categories-list-item iconfont icon-home categories-list-item-opened">
        <div class="category-info">
          <span class="category-name">全部</span>
        </div>
      </dd>
      <dd class="categories-list-item iconfont icon-folder">
        <div class="category-info">
          <span class="category-name">未分类</span>
        </div>
      </dd>
      <dd class="categories-list-item iconfont icon-delete">
        <div class="category-info">
          <span class="category-name">垃圾桶</span>
        </div>
      </dd>
    </dl>
    <dl class="categories-list">
      <dt class="categories-list-title">个人分类</dt>
      <ng-container *ngFor="let item of terms$ | async">
        <dd class="categories-list-item iconfont icon-folder"
            *ngIf="item.term_id !== 1"
            [ngClass]="{'categories-list-item-selected': item.term_id === contextMenuOnTermId}"
            (contextmenu)="showContextMenuMethod($event, item.term_id, inputCategoryName)">
          <div class="category-info">
            <span class="category-name"
                  [hidden]="renameTermId === item.term_id">{{item.term_name}}</span>
            <input class="category-name"
                   placeholder="请输入分组名"
                   #inputCategoryName
                   [attr.data-id]="item.term_id"
                   [value]="item.term_name"
                   (blur)="renameTermCompletedMethod($event)"
                   [hidden]="renameTermId !== item.term_id"/>
            <span class="category-count">{{item.term_count}}</span>
          </div>
          <!--<span (click)="removeTermMethod(item.term_id)">删除</span>-->
        </dd>
      </ng-container>
    </dl>
    <div class="categories-context-menu" *ngIf="contextMenuShow"
         [ngStyle]="contextMenuStyle"
    >
      <button>新建分类</button>
      <button (click)="renameTermMethod($event, contextMenuOnTermId)">重命名</button>
      <button (click)="removeTermMethod($event, contextMenuOnTermId)">删除</button>
    </div>
    <input type="text" placeholder="添加分组" [(ngModel)]="categoryName" required/>
    <a href="javascript:void(0);" (click)="addTermMethod()">添加分组</a>
  </div>
</div>
